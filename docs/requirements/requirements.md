# 🌏 LocalGuide — 要件定義（MVP / Tokyo, Inbound）

## 0. 前提

- 対象ユーザー：東京を訪れる海外旅行客
- 提供者：地元のローカル個人（一般ユーザー）
- 対象エリア：東京のみ
- 主要言語：**日本語をデフォルト**、**英語にも切り替え可能**
- 機能制限：検索なし / 地図なし / 決済なし / チャットなし
- サービス形式：「コース提案＋自己手配」型（同行や予約代行なし）
- スタック：Next.js（Tailwind） + Supabase
- KPI：MAU・リテンション率（D7/D30）

---

## 1. ユーザーロール

| ロール         | 概要                               |
| -------------- | ---------------------------------- |
| 旅行者         | プランを閲覧・保存できる           |
| ローカル       | プランを作成・編集・公開申請できる |
| 管理者（運営） | 投稿されたプランを審査・承認できる |

---

## 2. 画面構成（MVP）

### 🌟 フロント（旅行者向け）

- **LP（Landing / Promotion）**
  - サービス紹介・特徴・使い方・チーム紹介など
  - CTA（「プランを見る」「ログインして投稿」など）
- **Home**
  - 特集（Featured）
  - カテゴリ（Food, Neighborhoods など）
  - 新着プラン
- **Plan List**
  - カテゴリまたは特集に紐づくプランの一覧
- **Plan Detail**
  - プラン概要・行程（Step）・注意点・外部リンク
  - 保存（お気に入り）・共有
- **My Page**
  - 保存済プラン一覧（要ログイン）

---

### ✍️ ローカル（投稿者向け）

- **My Dashboard**
  - 自分のプラン一覧（下書き/申請中/公開）
  - 新規プラン作成（日本語＋英語）
  - 公開申請ボタン（draft → pending）
  - 公開後は編集不可（再申請が必要）

---

### ⚙️ 管理者

- **Admin Dashboard**
  - `pending`プラン一覧
  - 承認 / 却下 / ブロック
  - カテゴリ・特集の作成・編集・並び順設定

---

## 3. ユーザーストーリー（MVP）

**旅行者**

- LP を見て、LocalGuide のサービス内容を理解したい
- 興味があるカテゴリからプランを探したい
- プラン詳細でスポットの流れと目安費用を確認したい
- 気に入ったプランを保存して後で見返したい

**ローカル**

- 自分のおすすめコースをプランとして投稿したい
- プランを日本語・英語両方で入力したい
- 審査に出して公開してもらいたい

**管理者**

- 投稿されたプランを審査し、公開/ブロックを管理したい
- カテゴリ・特集を設定して表示をコントロールしたい

---

## 4. 機能要件

### 旅行者

- 日本語/英語切り替え
- LP ページ閲覧
- 特集・カテゴリからプラン一覧
- プラン詳細表示
- お気に入り保存 / 共有
- マイページで保存済一覧

### ローカル

- プラン作成/編集
- 公開申請（draft→pending）
- 画像アップロード
- 自分の投稿管理（一覧・状態表示）

### 管理者

- プラン審査（承認/却下/ブロック）
- カテゴリ/特集 CRUD・並び順

---

## 5. 技術構成

- フロント：Next.js（App Router）, Tailwind
- 認証：Supabase Auth（Email/Google/Apple など）
- データ：Supabase（PostgreSQL + RLS）
- ストレージ：Supabase Storage（画像）
- 分析：GA4（plan_view / plan_favorite / outbound_click）
- i18n：next-intl / next-translate
- デプロイ：Vercel + Supabase

---

## 6. 非機能要件（MVP）

- SSR/ISR で高速化（LCP < 2.5s）
- 日本語デフォルト UI（英語切り替え対応）
- 一般ユーザーは `published` のみ閲覧可
- RLS で認可制御（投稿者のみ編集可能）
- SEO（構造化データ、OGP）

---

## 7. KPI とイベント

- MAU
- リテンション（D7/D30）
- 補助指標：`plan_view`, `plan_favorite`, `outbound_click`

---

## 8. ロードマップ

- **MVP**
  - LP ＋プラン閲覧・投稿・審査・保存
- **M1**
  - 軽量検索、マップ埋め込み、簡易ローカルダッシュボード
- **M2**
  - 決済（10%手数料）、レビュー、チャット
